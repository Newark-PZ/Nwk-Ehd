<mat-toolbar class="title">
<mat-icon style="margin-right: .5rem">live_tv</mat-icon>
<h2>Virtual Hearings Dashboard</h2>
</mat-toolbar>
<mat-tab-group [selectedIndex]="currentTab" id="appTabs">
    <mat-tab [disabled]="(cpbTab$ | async).disabled">
      <ng-template mat-tab-label>
        <mat-icon style="margin-right: 1rem">{{ (cpbTab$ | async).live ? 'live_tv' : 'tv_off' }}</mat-icon>
        <h4>{{(cpbTab$ | async).label}}</h4>
      </ng-template>
      <div class="flex-row justify-content-center">
        <app-event-detail class="cols-8" style="margin: 1rem;"
        [board]="(cpbTab$ | async).board"
        [event]="(cpbTab$ | async).event"
        [agenda]="(cpbTab$ | async).agenda"></app-event-detail>
      </div>
      <mat-accordion class="docs-accordion">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <b>Upcoming Hearing</b>
            </mat-panel-title>
            <mat-panel-description>
              Applications + Supporting Documents
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="card-content card-table">  
            <mat-table [dataSource]="(cpbTab$ | async).data" multiTemplateDataRows>
                <ng-container matColumnDef="application">
                    <mat-cell *matCellDef="let row">
                     {{ row.board }}-{{ row.app }}
                   </mat-cell>
                </ng-container>
                <ng-container matColumnDef="address">
                    <mat-cell *matCellDef="let row">{{row.address}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="icon">
                  <mat-cell *matCellDef="let row"><mat-icon>launch</mat-icon></mat-cell>
              </ng-container>
              <mat-row class="row" (click)="goToUrl(row.folderlink)" *matRowDef="let row; columns: ['application', 'address','icon'];"></mat-row>
            </mat-table>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Previous Hearing
            </mat-panel-title>
            <mat-panel-description>
              Applications + Supporting Documents
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="card-content card-table">  
            <mat-table [dataSource]="(cpbTab$ | async).oldData" multiTemplateDataRows>
                <ng-container matColumnDef="application">
                    <mat-cell *matCellDef="let row">
                     {{ row.board }}-{{ row.app }}
                   </mat-cell>
                </ng-container>
                <ng-container matColumnDef="address">
                    <mat-cell *matCellDef="let row">{{row.address}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="icon">
                  <mat-cell *matCellDef="let row"><mat-icon>launch</mat-icon></mat-cell>
              </ng-container>
              <mat-row class="row" (click)="goToUrl(row.folderlink)" *matRowDef="let row; columns: ['application', 'address','icon'];"></mat-row>
            </mat-table>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>
    <mat-tab [disabled]="(zbaTab$ | async).disabled">
      <ng-template mat-tab-label>
        <mat-icon style="margin-right: 1rem">{{ (zbaTab$ | async).live ? 'live_tv' : 'tv_off' }}</mat-icon>
        <h4>{{(zbaTab$ | async).label}}</h4>
      </ng-template>
      <div class="flex-row justify-content-center">
        <app-event-detail class="cols-8" style="margin: 1rem;"
        [board]="(zbaTab$ | async).board"
        [event]="(zbaTab$ | async).event"
        [agenda]="(zbaTab$ | async).agenda"
        [fofId]="(zbaTab$ | async).fofId"></app-event-detail>
      </div>
      <mat-accordion class="docs-accordion">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              <b>Upcoming Hearing</b>
            </mat-panel-title>
            <mat-panel-description>
              Applications + Supporting Documents
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="card-content card-table">  
            <mat-table [dataSource]="(zbaTab$ | async).data" multiTemplateDataRows>
                <ng-container matColumnDef="application">
                    <mat-cell *matCellDef="let row">
                     {{ row.board }}-{{ row.app }}
                   </mat-cell>
                </ng-container>
                <ng-container matColumnDef="address">
                    <mat-cell *matCellDef="let row">{{row.address}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="icon">
                  <mat-cell *matCellDef="let row"><mat-icon>launch</mat-icon></mat-cell>
              </ng-container>
              <mat-row class="row" (click)="goToUrl(row.folderlink)" *matRowDef="let row; columns: ['application', 'address','icon'];"></mat-row>
            </mat-table>
          </div>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Previous Hearing
            </mat-panel-title>
            <mat-panel-description>
              Applications + Supporting Documents
            </mat-panel-description>
          </mat-expansion-panel-header>
          <div class="card-content card-table">  
            <mat-table [dataSource]="(zbaTab$ | async).oldData" multiTemplateDataRows>
                <ng-container matColumnDef="application">
                    <mat-cell *matCellDef="let row">
                     {{ row.board }}-{{ row.app }}
                   </mat-cell>
                </ng-container>
                <ng-container matColumnDef="address">
                    <mat-cell *matCellDef="let row">{{row.address}}</mat-cell>
                </ng-container>
                <ng-container matColumnDef="icon">
                  <mat-cell *matCellDef="let row"><mat-icon>launch</mat-icon></mat-cell>
              </ng-container>
              <mat-row class="row" (click)="goToUrl(row.folderlink)" *matRowDef="let row; columns: ['application', 'address','icon'];"></mat-row>
            </mat-table>
          </div>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-tab>
  </mat-tab-group>